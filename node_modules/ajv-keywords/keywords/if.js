'use strict';

module.exports = function defFunc(ajv) ***REMOVED***
  if (!ajv.RULES.keywords.switch) require('./switch')(ajv);

  defFunc.definition = ***REMOVED***
    macro: function (schema, parentSchema) ***REMOVED***
      if (parentSchema.then === undefined)
        throw new Error('keyword "then" is absent');
      var cases = [ ***REMOVED*** 'if': schema, 'then': parentSchema.then ***REMOVED*** ];
      if (parentSchema.else !== undefined)
        cases[1] = ***REMOVED*** 'then': parentSchema.else ***REMOVED***;
      return ***REMOVED*** switch: cases ***REMOVED***;
    ***REMOVED***
  ***REMOVED***;

  ajv.addKeyword('if', defFunc.definition);
  ajv.addKeyword('then');
  ajv.addKeyword('else');
  return ajv;
***REMOVED***;
