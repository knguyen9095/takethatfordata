var stream = require('stream')
var streamEvents = require('./')
var util = require('util')

function MyStream() ***REMOVED***
  stream.Duplex.call(this)
  streamEvents.call(this)
***REMOVED***
util.inherits(MyStream, stream.Duplex)

MyStream.prototype._read = function(chunk) ***REMOVED***
  console.log('_read called as usual')
  this.push(new Buffer(chunk))
  this.push(null)
***REMOVED***

MyStream.prototype._write = function() ***REMOVED***
  console.log('_write called as usual')
***REMOVED***

var stream = new MyStream

stream.on('reading', function() ***REMOVED***
  console.log('stream is being asked for data')
***REMOVED***)

stream.on('writing', function() ***REMOVED***
  console.log('stream is being sent data')
***REMOVED***)

stream.pipe(stream)
