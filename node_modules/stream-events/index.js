'use strict';

var stubs = require('stubs')

/*
 * StreamEvents can be used 2 ways:
 *
 * 1:
 * function MyStream() ***REMOVED***
 *   require('stream-events').call(this)
 * ***REMOVED***
 *
 * 2:
 * require('stream-events')(myStream)
 */
function StreamEvents(stream) ***REMOVED***
  stream = stream || this

  var cfg = ***REMOVED***
    callthrough: true,
    calls: 1
  ***REMOVED***

  stubs(stream, '_read', cfg, stream.emit.bind(stream, 'reading'))
  stubs(stream, '_write', cfg, stream.emit.bind(stream, 'writing'))

  return stream
***REMOVED***

module.exports = StreamEvents
