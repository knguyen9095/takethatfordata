/*!
 * copy-descriptor <https://github.com/jonschlinkert/copy-descriptor>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */

'use strict';

/**
 * Copy a descriptor from one object to another.
 *
 * ```js
 * function App() ***REMOVED***
 *   this.cache = ***REMOVED******REMOVED***;
 * ***REMOVED***
 * App.prototype.set = function(key, val) ***REMOVED***
 *   this.cache[key] = val;
 *   return this;
 * ***REMOVED***;
 * Object.defineProperty(App.prototype, 'count', ***REMOVED***
 *   get: function() ***REMOVED***
 *     return Object.keys(this.cache).length;
 *   ***REMOVED***
 * ***REMOVED***);
 *
 * copy(App.prototype, 'count', 'len');
 *
 * // create an instance
 * var app = new App();
 *
 * app.set('a', true);
 * app.set('b', true);
 * app.set('c', true);
 *
 * console.log(app.count);
 * //=> 3
 * console.log(app.len);
 * //=> 3
 * ```
 * @name copy
 * @param ***REMOVED***Object***REMOVED*** `receiver` The target object
 * @param ***REMOVED***Object***REMOVED*** `provider` The provider object
 * @param ***REMOVED***String***REMOVED*** `from` The key to copy on provider.
 * @param ***REMOVED***String***REMOVED*** `to` Optionally specify a new key name to use.
 * @return ***REMOVED***Object***REMOVED***
 * @api public
 */

module.exports = function copyDescriptor(receiver, provider, from, to) ***REMOVED***
  if (!isObject(provider) && typeof provider !== 'function') ***REMOVED***
    to = from;
    from = provider;
    provider = receiver;
  ***REMOVED***
  if (!isObject(receiver) && typeof receiver !== 'function') ***REMOVED***
    throw new TypeError('expected the first argument to be an object');
  ***REMOVED***
  if (!isObject(provider) && typeof provider !== 'function') ***REMOVED***
    throw new TypeError('expected provider to be an object');
  ***REMOVED***

  if (typeof to !== 'string') ***REMOVED***
    to = from;
  ***REMOVED***
  if (typeof from !== 'string') ***REMOVED***
    throw new TypeError('expected key to be a string');
  ***REMOVED***

  if (!(from in provider)) ***REMOVED***
    throw new Error('property "' + from + '" does not exist');
  ***REMOVED***

  var val = Object.getOwnPropertyDescriptor(provider, from);
  if (val) Object.defineProperty(receiver, to, val);
***REMOVED***;

function isObject(val) ***REMOVED***
  return ***REMOVED******REMOVED***.toString.call(val) === '[object Object]';
***REMOVED***

