/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import ***REMOVED*** Operation ***REMOVED*** from '../operation/Operation';
import ***REMOVED*** ChildChangeAccumulator ***REMOVED*** from './ChildChangeAccumulator';
import ***REMOVED*** Change ***REMOVED*** from './Change';
import ***REMOVED*** Path ***REMOVED*** from '../util/Path';
import ***REMOVED*** ViewCache ***REMOVED*** from './ViewCache';
import ***REMOVED*** NodeFilter ***REMOVED*** from './filter/NodeFilter';
import ***REMOVED*** WriteTreeRef ***REMOVED*** from '../WriteTree';
import ***REMOVED*** Node ***REMOVED*** from '../snap/Node';
/**
 * @constructor
 * @struct
 */
export declare class ProcessorResult ***REMOVED***
    readonly viewCache: ViewCache;
    readonly changes: Change[];
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***!Array.<!Change>***REMOVED*** changes
     */
    constructor(viewCache: ViewCache, changes: Change[]);
***REMOVED***
/**
 * @constructor
 */
export declare class ViewProcessor ***REMOVED***
    private readonly filter_;
    /**
     * @param ***REMOVED***!NodeFilter***REMOVED*** filter_
     */
    constructor(filter_: NodeFilter);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     */
    assertIndexed(viewCache: ViewCache): void;
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** oldViewCache
     * @param ***REMOVED***!Operation***REMOVED*** operation
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***?Node***REMOVED*** completeCache
     * @return ***REMOVED***!ProcessorResult***REMOVED***
     */
    applyOperation(oldViewCache: ViewCache, operation: Operation, writesCache: WriteTreeRef, completeCache: Node | null): ProcessorResult;
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** oldViewCache
     * @param ***REMOVED***!ViewCache***REMOVED*** newViewCache
     * @param ***REMOVED***!Array.<!Change>***REMOVED*** accumulator
     * @private
     */
    private static maybeAddValueEvent_(oldViewCache, newViewCache, accumulator);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***!Path***REMOVED*** changePath
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***!CompleteChildSource***REMOVED*** source
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    private generateEventCacheAfterServerEvent_(viewCache, changePath, writesCache, source, accumulator);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** oldViewCache
     * @param ***REMOVED***!Path***REMOVED*** changePath
     * @param ***REMOVED***!Node***REMOVED*** changedSnap
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***?Node***REMOVED*** completeCache
     * @param ***REMOVED***boolean***REMOVED*** filterServerNode
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    applyServerOverwrite_(oldViewCache: ViewCache, changePath: Path, changedSnap: Node, writesCache: WriteTreeRef, completeCache: Node | null, filterServerNode: boolean, accumulator: ChildChangeAccumulator): ViewCache;
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** oldViewCache
     * @param ***REMOVED***!Path***REMOVED*** changePath
     * @param ***REMOVED***!Node***REMOVED*** changedSnap
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***?Node***REMOVED*** completeCache
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    applyUserOverwrite_(oldViewCache: ViewCache, changePath: Path, changedSnap: Node, writesCache: WriteTreeRef, completeCache: Node | null, accumulator: ChildChangeAccumulator): ViewCache;
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***string***REMOVED*** childKey
     * @return ***REMOVED***boolean***REMOVED***
     * @private
     */
    private static cacheHasChild_(viewCache, childKey);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***!Path***REMOVED*** path
     * @param ***REMOVED***ImmutableTree.<!Node>***REMOVED*** changedChildren
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***?Node***REMOVED*** serverCache
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    private applyUserMerge_(viewCache, path, changedChildren, writesCache, serverCache, accumulator);
    /**
     * @param ***REMOVED***!Node***REMOVED*** node
     * @param ***REMOVED***ImmutableTree.<!Node>***REMOVED*** merge
     * @return ***REMOVED***!Node***REMOVED***
     * @private
     */
    private applyMerge_(node, merge);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***!Path***REMOVED*** path
     * @param ***REMOVED***!ImmutableTree.<!Node>***REMOVED*** changedChildren
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***?Node***REMOVED*** serverCache
     * @param ***REMOVED***boolean***REMOVED*** filterServerNode
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    private applyServerMerge_(viewCache, path, changedChildren, writesCache, serverCache, filterServerNode, accumulator);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***!Path***REMOVED*** ackPath
     * @param ***REMOVED***!ImmutableTree<!boolean>***REMOVED*** affectedTree
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***?Node***REMOVED*** completeCache
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    private ackUserWrite_(viewCache, ackPath, affectedTree, writesCache, completeCache, accumulator);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***!Path***REMOVED*** path
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    private listenComplete_(viewCache, path, writesCache, accumulator);
    /**
     * @param ***REMOVED***!ViewCache***REMOVED*** viewCache
     * @param ***REMOVED***!Path***REMOVED*** path
     * @param ***REMOVED***!WriteTreeRef***REMOVED*** writesCache
     * @param ***REMOVED***?Node***REMOVED*** completeServerCache
     * @param ***REMOVED***!ChildChangeAccumulator***REMOVED*** accumulator
     * @return ***REMOVED***!ViewCache***REMOVED***
     * @private
     */
    private revertUserWrite_(viewCache, path, writesCache, completeServerCache, accumulator);
***REMOVED***
