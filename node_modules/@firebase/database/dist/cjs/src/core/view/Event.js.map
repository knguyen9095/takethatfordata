***REMOVED***"version":3,"sources":["../src/core/view/Event.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;GAcG;;AAEH,uCAA2C;AA+B3C;;;GAGG;AACH;IACE;;;;;OAKG;IACH,mBACS,SAKa,EACb,iBAAoC,EACpC,QAAsB,EACtB,QAAwB;QARxB,cAAS,GAAT,SAAS,CAKI;QACb,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,aAAQ,GAAR,QAAQ,CAAc;QACtB,aAAQ,GAAR,QAAQ,CAAgB;IAC9B,CAAC;IAEJ;;OAEG;IACH,2BAAO,GAAP;QACE,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACnC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,OAAO,CAAC,CAAC,CAAC;YAC/B,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC;QAClB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC;QAC9B,CAAC;IACH,CAAC;IAED;;OAEG;IACH,gCAAY,GAAZ;QACE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED;;OAEG;IACH,kCAAc,GAAd;QACE,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACrD,CAAC;IAED;;OAEG;IACH,4BAAQ,GAAR;QACE,MAAM,CAAC,CACL,IAAI,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;YACzB,GAAG;YACH,IAAI,CAAC,SAAS;YACd,GAAG;YACH,gBAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,CACrC,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAzDA,AAyDC,IAAA;AAzDY,8BAAS;AA2DtB;IACE;;;;OAIG;IACH,qBACS,iBAAoC,EACpC,KAAY,EACZ,IAAU;QAFV,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,UAAK,GAAL,KAAK,CAAO;QACZ,SAAI,GAAJ,IAAI,CAAM;IAChB,CAAC;IAEJ;;OAEG;IACH,6BAAO,GAAP;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IAED;;OAEG;IACH,kCAAY,GAAZ;QACE,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC;IAED;;OAEG;IACH,oCAAc,GAAd;QACE,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACrD,CAAC;IAED;;OAEG;IACH,8BAAQ,GAAR;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,SAAS,CAAC;IAC1C,CAAC;IACH,kBAAC;AAAD,CAvCA,AAuCC,IAAA;AAvCY,kCAAW","file":"Event.js","sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ***REMOVED*** stringify ***REMOVED*** from '@firebase/util';\nimport ***REMOVED*** Path ***REMOVED*** from '../util/Path';\nimport ***REMOVED*** EventRegistration ***REMOVED*** from './EventRegistration';\nimport ***REMOVED*** DataSnapshot ***REMOVED*** from '../../api/DataSnapshot';\n\n/**\n * Encapsulates the data needed to raise an event\n * @interface\n */\nexport interface Event ***REMOVED***\n  /**\n   * @return ***REMOVED***!Path***REMOVED***\n   */\n  getPath(): Path;\n\n  /**\n   * @return ***REMOVED***!string***REMOVED***\n   */\n  getEventType(): string;\n\n  /**\n   * @return ***REMOVED***!function()***REMOVED***\n   */\n  getEventRunner(): () => void;\n\n  /**\n   * @return ***REMOVED***!string***REMOVED***\n   */\n  toString(): string;\n***REMOVED***\n\n/**\n * Encapsulates the data needed to raise an event\n * @implements ***REMOVED***Event***REMOVED***\n */\nexport class DataEvent implements Event ***REMOVED***\n  /**\n   * @param ***REMOVED***!string***REMOVED*** eventType One of: value, child_added, child_changed, child_moved, child_removed\n   * @param ***REMOVED***!EventRegistration***REMOVED*** eventRegistration The function to call to with the event data. User provided\n   * @param ***REMOVED***!DataSnapshot***REMOVED*** snapshot The data backing the event\n   * @param ***REMOVED***?string=***REMOVED*** prevName Optional, the name of the previous child for child_* events.\n   */\n  constructor(\n    public eventType:\n      | 'value'\n      | ' child_added'\n      | ' child_changed'\n      | ' child_moved'\n      | ' child_removed',\n    public eventRegistration: EventRegistration,\n    public snapshot: DataSnapshot,\n    public prevName?: string | null\n  ) ***REMOVED******REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  getPath(): Path ***REMOVED***\n    const ref = this.snapshot.getRef();\n    if (this.eventType === 'value') ***REMOVED***\n      return ref.path;\n    ***REMOVED*** else ***REMOVED***\n      return ref.getParent().path;\n    ***REMOVED***\n  ***REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  getEventType(): string ***REMOVED***\n    return this.eventType;\n  ***REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  getEventRunner(): () => void ***REMOVED***\n    return this.eventRegistration.getEventRunner(this);\n  ***REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  toString(): string ***REMOVED***\n    return (\n      this.getPath().toString() +\n      ':' +\n      this.eventType +\n      ':' +\n      stringify(this.snapshot.exportVal())\n    );\n  ***REMOVED***\n***REMOVED***\n\nexport class CancelEvent implements Event ***REMOVED***\n  /**\n   * @param ***REMOVED***EventRegistration***REMOVED*** eventRegistration\n   * @param ***REMOVED***Error***REMOVED*** error\n   * @param ***REMOVED***!Path***REMOVED*** path\n   */\n  constructor(\n    public eventRegistration: EventRegistration,\n    public error: Error,\n    public path: Path\n  ) ***REMOVED******REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  getPath(): Path ***REMOVED***\n    return this.path;\n  ***REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  getEventType(): string ***REMOVED***\n    return 'cancel';\n  ***REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  getEventRunner(): () => void ***REMOVED***\n    return this.eventRegistration.getEventRunner(this);\n  ***REMOVED***\n\n  /**\n   * @inheritDoc\n   */\n  toString(): string ***REMOVED***\n    return this.path.toString() + ':cancel';\n  ***REMOVED***\n***REMOVED***\n"]***REMOVED***