/*!
 * randomatic <https://github.com/jonschlinkert/randomatic>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */

'use strict';

var isNumber = require('is-number');
var typeOf = require('kind-of');

/**
 * Expose `randomatic`
 */

module.exports = randomatic;

/**
 * Available mask characters
 */

var type = ***REMOVED***
  lower: 'abcdefghijklmnopqrstuvwxyz',
  upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
  number: '0123456789',
  special: '~!@#$%^&()_+-=***REMOVED******REMOVED***[];\',.'
***REMOVED***;

type.all = type.lower + type.upper + type.number + type.special;

/**
 * Generate random character sequences of a specified `length`,
 * based on the given `pattern`.
 *
 * @param ***REMOVED***String***REMOVED*** `pattern` The pattern to use for generating the random string.
 * @param ***REMOVED***String***REMOVED*** `length` The length of the string to generate.
 * @param ***REMOVED***String***REMOVED*** `options`
 * @return ***REMOVED***String***REMOVED***
 * @api public
 */

function randomatic(pattern, length, options) ***REMOVED***
  if (typeof pattern === 'undefined') ***REMOVED***
    throw new Error('randomatic expects a string or number.');
  ***REMOVED***

  var custom = false;
  if (arguments.length === 1) ***REMOVED***
    if (typeof pattern === 'string') ***REMOVED***
      length = pattern.length;

    ***REMOVED*** else if (isNumber(pattern)) ***REMOVED***
      options = ***REMOVED******REMOVED***; length = pattern; pattern = '*';
    ***REMOVED***
  ***REMOVED***

  if (typeOf(length) === 'object' && length.hasOwnProperty('chars')) ***REMOVED***
    options = length;
    pattern = options.chars;
    length = pattern.length;
    custom = true;
  ***REMOVED***

  var opts = options || ***REMOVED******REMOVED***;
  var mask = '';
  var res = '';

  // Characters to be used
  if (pattern.indexOf('?') !== -1) mask += opts.chars;
  if (pattern.indexOf('a') !== -1) mask += type.lower;
  if (pattern.indexOf('A') !== -1) mask += type.upper;
  if (pattern.indexOf('0') !== -1) mask += type.number;
  if (pattern.indexOf('!') !== -1) mask += type.special;
  if (pattern.indexOf('*') !== -1) mask += type.all;
  if (custom) mask += pattern;

  while (length--) ***REMOVED***
    res += mask.charAt(parseInt(Math.random() * mask.length, 10));
  ***REMOVED***
  return res;
***REMOVED***;
