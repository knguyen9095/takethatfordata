//? if (HEX) ***REMOVED***
// encodings/hex

/**
 * Encodes this ByteBuffer's contents to a hex encoded string.
 * @param ***REMOVED***number=***REMOVED*** begin Offset to begin at. Defaults to ***REMOVED***@link ByteBuffer#offset***REMOVED***.
 * @param ***REMOVED***number=***REMOVED*** end Offset to end at. Defaults to ***REMOVED***@link ByteBuffer#limit***REMOVED***.
 * @returns ***REMOVED***string***REMOVED*** Hex encoded string
 * @expose
 */
ByteBufferPrototype.toHex = function(begin, end) ***REMOVED***
    begin = typeof begin === 'undefined' ? this.offset : begin;
    end = typeof end === 'undefined' ? this.limit : end;
    if (!this.noAssert) ***REMOVED***
        //? ASSERT_RANGE();
    ***REMOVED***
    //? if (NODE)
    return this.buffer.toString("hex", begin, end);
    //? else ***REMOVED***
    var out = new Array(end - begin),
        b;
    while (begin < end) ***REMOVED***
        //? if (DATAVIEW)
        b = this.view.getUint8(begin++);
        //? else
        b = this.view[begin++];
        if (b < 0x10)
            out.push("0", b.toString(16));
        else out.push(b.toString(16));
    ***REMOVED***
    return out.join('');
    //? ***REMOVED***
***REMOVED***;

/**
 * Decodes a hex encoded string to a ByteBuffer.
 * @param ***REMOVED***string***REMOVED*** str String to decode
 * @param ***REMOVED***boolean=***REMOVED*** littleEndian Whether to use little or big endian byte order. Defaults to
 *  ***REMOVED***@link ByteBuffer.DEFAULT_ENDIAN***REMOVED***.
 * @param ***REMOVED***boolean=***REMOVED*** noAssert Whether to skip assertions of offsets and values. Defaults to
 *  ***REMOVED***@link ByteBuffer.DEFAULT_NOASSERT***REMOVED***.
 * @returns ***REMOVED***!ByteBuffer***REMOVED*** ByteBuffer
 * @expose
 */
ByteBuffer.fromHex = function(str, littleEndian, noAssert) ***REMOVED***
    if (!noAssert) ***REMOVED***
        if (typeof str !== 'string')
            throw TypeError("Illegal str: Not a string");
        if (str.length % 2 !== 0)
            throw TypeError("Illegal str: Length not a multiple of 2");
    ***REMOVED***
    //? if (NODE) ***REMOVED***
    var bb = new ByteBuffer(0, littleEndian, true);
    bb.buffer = new Buffer(str, "hex");
    bb.limit = bb.buffer.length;
    //? ***REMOVED*** else ***REMOVED***
    var k = str.length,
        bb = new ByteBuffer((k / 2) | 0, littleEndian),
        b;
    for (var i=0, j=0; i<k; i+=2) ***REMOVED***
        b = parseInt(str.substring(i, i+2), 16);
        if (!noAssert)
            if (!isFinite(b) || b < 0 || b > 255)
                throw TypeError("Illegal str: Contains non-hex characters");
        //? if (DATAVIEW)
        bb.view.setUint8(j++, b);
        //? else
        bb.view[j++] = b;
    ***REMOVED***
    bb.limit = j;
    //? ***REMOVED***
    return bb;
***REMOVED***;

//? ***REMOVED***