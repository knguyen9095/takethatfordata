'use strict';
require('./es6.regexp.flags');
var anObject = require('./_an-object');
var $flags = require('./_flags');
var DESCRIPTORS = require('./_descriptors');
var TO_STRING = 'toString';
var $toString = /./[TO_STRING];

var define = function (fn) ***REMOVED***
  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);
***REMOVED***;

// 21.2.5.14 RegExp.prototype.toString()
if (require('./_fails')(function () ***REMOVED*** return $toString.call(***REMOVED*** source: 'a', flags: 'b' ***REMOVED***) != '/a/b'; ***REMOVED***)) ***REMOVED***
  define(function toString() ***REMOVED***
    var R = anObject(this);
    return '/'.concat(R.source, '/',
      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);
  ***REMOVED***);
// FF44- RegExp#toString has a wrong name
***REMOVED*** else if ($toString.name != TO_STRING) ***REMOVED***
  define(function toString() ***REMOVED***
    return $toString.call(this);
  ***REMOVED***);
***REMOVED***
