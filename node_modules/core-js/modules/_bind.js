'use strict';
var aFunction = require('./_a-function');
var isObject = require('./_is-object');
var invoke = require('./_invoke');
var arraySlice = [].slice;
var factories = ***REMOVED******REMOVED***;

var construct = function (F, len, args) ***REMOVED***
  if (!(len in factories)) ***REMOVED***
    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';
    // eslint-disable-next-line no-new-func
    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');
  ***REMOVED*** return factories[len](F, args);
***REMOVED***;

module.exports = Function.bind || function bind(that /* , ...args */) ***REMOVED***
  var fn = aFunction(this);
  var partArgs = arraySlice.call(arguments, 1);
  var bound = function (/* args... */) ***REMOVED***
    var args = partArgs.concat(arraySlice.call(arguments));
    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);
  ***REMOVED***;
  if (isObject(fn.prototype)) bound.prototype = fn.prototype;
  return bound;
***REMOVED***;
