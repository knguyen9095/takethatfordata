// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = require('./_is-object');
var anObject = require('./_an-object');
var check = function (O, proto) ***REMOVED***
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
***REMOVED***;
module.exports = ***REMOVED***
  set: Object.setPrototypeOf || ('__proto__' in ***REMOVED******REMOVED*** ? // eslint-disable-line
    function (test, buggy, set) ***REMOVED***
      try ***REMOVED***
        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      ***REMOVED*** catch (e) ***REMOVED*** buggy = true; ***REMOVED***
      return function setPrototypeOf(O, proto) ***REMOVED***
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      ***REMOVED***;
    ***REMOVED***(***REMOVED******REMOVED***, false) : undefined),
  check: check
***REMOVED***;
