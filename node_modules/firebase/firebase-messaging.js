/*!
 * @license Firebase v4.9.1
 * Build: rev-631e1ad
 * Terms: https://firebase.google.com/terms/
 */
try***REMOVED***webpackJsonpFirebase([3],***REMOVED***116:function(e,t,r)***REMOVED***r(117)***REMOVED***,117:function(e,t,r)***REMOVED***"use strict";function n(e)***REMOVED***var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))***REMOVED***function o(e)***REMOVED***var t=function(e)***REMOVED***return self&&"ServiceWorkerGlobalScope"in self?new A(e):new k(e)***REMOVED***,r=***REMOVED***Messaging:k***REMOVED***;e.INTERNAL.registerService("messaging",t,r)***REMOVED***Object.defineProperty(t,"__esModule",***REMOVED***value:!0***REMOVED***);var i,s=r(0),a=***REMOVED***AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"***REMOVED***,c=(i=***REMOVED******REMOVED***,i[a.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",i[a.AVAILABLE_IN_SW]="This method is available in a service worker context.",i["should-be-overriden"]="This method should be overriden by extended classes.",i["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",i["permission-default"]="The required permissions were not granted and dismissed instead.",i["permission-blocked"]="The required permissions were not granted and blocked instead.",i["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",i["notifications-blocked"]="Notifications have been blocked.",i[a.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. ***REMOVED***$browserErrorMessage***REMOVED***",i["sw-registration-expected"]="A service worker registration was the expected input.",i["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",i["invalid-saved-token"]="Unable to access details of the saved token.",i["sw-reg-redundant"]="The service worker being used for push was made redundant.",i["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: ***REMOVED***$message***REMOVED***",i["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",i["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",i["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",i["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",i["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",i["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",i["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",i["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",i["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. ***REMOVED***$message***REMOVED***",i["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",i["failed-to-delete-token"]="Unable to delete the currently saved token.",i["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",i["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",i["bad-scope"]="The service worker scope must be a string with at least one character.",i["bad-vapid-key"]="The public VAPID key must be a string with at least one character.",i["bad-subscription"]="The subscription must be a valid PushSubscription.",i["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",i["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",i["failed-delete-vapid-key"]="The VAPID key could not be deleted.",i),u=***REMOVED***codes:a,map:c***REMOVED***,_=function(e)***REMOVED***return n(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")***REMOVED***,d=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],f=***REMOVED***userVisibleOnly:!0,applicationServerKey:new Uint8Array(d)***REMOVED***,h=***REMOVED***ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:d,SUBSCRIPTION_OPTIONS:f***REMOVED***,p="fcm_token_object_Store",l=function()***REMOVED***function e()***REMOVED***this.e=new s.ErrorFactory("messaging","Messaging",u.map),this.t=null***REMOVED***return e.prototype.r=function()***REMOVED***return this.t?this.t:(this.t=new Promise(function(t,r)***REMOVED***var n=indexedDB.open(e.DB_NAME,1);n.onerror=function(e)***REMOVED***r(e.target.error)***REMOVED***,n.onsuccess=function(e)***REMOVED***t(e.target.result)***REMOVED***,n.onupgradeneeded=function(e)***REMOVED***var t=e.target.result,r=t.createObjectStore(p,***REMOVED***keyPath:"swScope"***REMOVED***);r.createIndex("fcmSenderId","fcmSenderId",***REMOVED***unique:!1***REMOVED***),r.createIndex("fcmToken","fcmToken",***REMOVED***unique:!0***REMOVED***)***REMOVED******REMOVED***),this.t)***REMOVED***,e.prototype.closeDatabase=function()***REMOVED***var e=this;return this.t?this.t.then(function(t)***REMOVED***t.close(),e.t=null***REMOVED***):Promise.resolve()***REMOVED***,e.prototype.getTokenDetailsFromToken=function(e)***REMOVED***return this.r().then(function(t)***REMOVED***return new Promise(function(r,n)***REMOVED***var o=t.transaction([p]),i=o.objectStore(p),s=i.index("fcmToken"),a=s.get(e);a.onerror=function(e)***REMOVED***n(e.target.error)***REMOVED***,a.onsuccess=function(e)***REMOVED***r(e.target.result)***REMOVED******REMOVED***)***REMOVED***)***REMOVED***,e.prototype.n=function(e)***REMOVED***return this.r().then(function(t)***REMOVED***return new Promise(function(r,n)***REMOVED***var o=t.transaction([p]),i=o.objectStore(p),s=i.get(e);s.onerror=function(e)***REMOVED***n(e.target.error)***REMOVED***,s.onsuccess=function(e)***REMOVED***r(e.target.result)***REMOVED******REMOVED***)***REMOVED***)***REMOVED***,e.prototype.o=function(e)***REMOVED***return this.r().then(function(t)***REMOVED***return new Promise(function(r,n)***REMOVED***var o=t.transaction([p]),i=o.objectStore(p),s=[],a=i.openCursor();a.onerror=function(e)***REMOVED***n(e.target.error)***REMOVED***,a.onsuccess=function(t)***REMOVED***var n=t.target.result;n?(n.value.fcmSenderId===e&&s.push(n.value),n.continue()):r(s)***REMOVED******REMOVED***)***REMOVED***)***REMOVED***,e.prototype.subscribeToFCM=function(e,t,r)***REMOVED***var n=this,o=_(t.getKey("p256dh")),i=_(t.getKey("auth")),s="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+o+"&encryption_auth="+i;r&&(s+="&pushSet="+r);var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded");var c=***REMOVED***method:"POST",headers:a,body:s***REMOVED***;return fetch(h.ENDPOINT+"/fcm/connect/subscribe",c).then(function(e)***REMOVED***return e.json()***REMOVED***).then(function(e)***REMOVED***var t=e;if(t.error)***REMOVED***var r=t.error.message;throw n.e.create(u.codes.TOKEN_SUBSCRIBE_FAILED,***REMOVED***message:r***REMOVED***)***REMOVED***if(!t.token)throw n.e.create(u.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw n.e.create(u.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return***REMOVED***token:t.token,pushSet:t.pushSet***REMOVED******REMOVED***)***REMOVED***,e.prototype.i=function(e,t)***REMOVED***return e.endpoint===t.endpoint&&_(e.getKey("auth"))===t.auth&&_(e.getKey("p256dh"))===t.p256dh***REMOVED***,e.prototype.s=function(e,t,r,n,o)***REMOVED***var i=***REMOVED***swScope:t.scope,endpoint:r.endpoint,auth:_(r.getKey("auth")),p256dh:_(r.getKey("p256dh")),fcmToken:n,fcmPushSet:o,fcmSenderId:e***REMOVED***;return this.r().then(function(e)***REMOVED***return new Promise(function(t,r)***REMOVED***var n=e.transaction([p],"readwrite"),o=n.objectStore(p),s=o.put(i);s.onerror=function(e)***REMOVED***r(e.target.error)***REMOVED***,s.onsuccess=function(e)***REMOVED***t()***REMOVED******REMOVED***)***REMOVED***)***REMOVED***,e.prototype.getSavedToken=function(e,t)***REMOVED***var r=this;return t instanceof ServiceWorkerRegistration?"string"!=typeof e||0===e.length?Promise.reject(this.e.create(u.codes.BAD_SENDER_ID)):this.o(e).then(function(r)***REMOVED***if(0!==r.length)***REMOVED***var n=r.findIndex(function(r)***REMOVED***return t.scope===r.swScope&&e===r.fcmSenderId***REMOVED***);if(-1!==n)return r[n]***REMOVED******REMOVED***).then(function(e)***REMOVED***if(e)return t.pushManager.getSubscription().catch(function(e)***REMOVED***throw r.e.create(u.codes.GET_SUBSCRIPTION_FAILED)***REMOVED***).then(function(t)***REMOVED***if(t&&r.i(t,e))return e.fcmToken***REMOVED***)***REMOVED***):Promise.reject(this.e.create(u.codes.SW_REGISTRATION_EXPECTED))***REMOVED***,e.prototype.createToken=function(e,t)***REMOVED***var r=this;if("string"!=typeof e||0===e.length)return Promise.reject(this.e.create(u.codes.BAD_SENDER_ID));if(!(t instanceof ServiceWorkerRegistration))return Promise.reject(this.e.create(u.codes.SW_REGISTRATION_EXPECTED));var n,o;return t.pushManager.getSubscription().then(function(e)***REMOVED***return e||t.pushManager.subscribe(h.SUBSCRIPTION_OPTIONS)***REMOVED***).then(function(t)***REMOVED***return n=t,r.subscribeToFCM(e,n)***REMOVED***).then(function(i)***REMOVED***return o=i,r.s(e,t,n,o.token,o.pushSet)***REMOVED***).then(function()***REMOVED***return o.token***REMOVED***)***REMOVED***,e.prototype.deleteToken=function(e)***REMOVED***var t=this;return"string"!=typeof e||0===e.length?Promise.reject(this.e.create(u.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(e)***REMOVED***if(!e)throw t.e.create(u.codes.DELETE_TOKEN_NOT_FOUND);return t.r().then(function(r)***REMOVED***return new Promise(function(n,o)***REMOVED***var i=r.transaction([p],"readwrite"),s=i.objectStore(p),a=s.delete(e.swScope);a.onerror=function(e)***REMOVED***o(e.target.error)***REMOVED***,a.onsuccess=function(r)***REMOVED***if(0===r.target.result)return void o(t.e.create(u.codes.FAILED_TO_DELETE_TOKEN));n(e)***REMOVED******REMOVED***)***REMOVED***)***REMOVED***)***REMOVED***,e***REMOVED***(),g=l,E="messagingSenderId",T=function()***REMOVED***function e(e)***REMOVED***var t=this;if(this.e=new s.ErrorFactory("messaging","Messaging",u.map),!e.options[E]||"string"!=typeof e.options[E])throw this.e.create(u.codes.BAD_SENDER_ID);this.a=e.options[E],this.c=new g,this.app=e,this.INTERNAL=***REMOVED******REMOVED***,this.INTERNAL.delete=function()***REMOVED***return t.delete***REMOVED******REMOVED***return e.prototype.getToken=function()***REMOVED***var e=this,t=this.u();return"granted"!==t?"denied"===t?Promise.reject(this.e.create(u.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this._().then(function(t)***REMOVED***return e.c.getSavedToken(e.a,t).then(function(r)***REMOVED***return r||e.c.createToken(e.a,t)***REMOVED***)***REMOVED***)***REMOVED***,e.prototype.deleteToken=function(e)***REMOVED***var t=this;return this.c.deleteToken(e).then(function()***REMOVED***return t._().then(function(e)***REMOVED***if(e)return e.pushManager.getSubscription()***REMOVED***).then(function(e)***REMOVED***if(e)return e.unsubscribe()***REMOVED***)***REMOVED***)***REMOVED***,e.prototype._=function()***REMOVED***throw this.e.create(u.codes.SHOULD_BE_INHERITED)***REMOVED***,e.prototype.requestPermission=function()***REMOVED***throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)***REMOVED***,e.prototype.useServiceWorker=function(e)***REMOVED***throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)***REMOVED***,e.prototype.onMessage=function(e,t,r)***REMOVED***throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)***REMOVED***,e.prototype.onTokenRefresh=function(e,t,r)***REMOVED***throw this.e.create(u.codes.AVAILABLE_IN_WINDOW)***REMOVED***,e.prototype.setBackgroundMessageHandler=function(e)***REMOVED***throw this.e.create(u.codes.AVAILABLE_IN_SW)***REMOVED***,e.prototype.delete=function()***REMOVED***return this.c.closeDatabase()***REMOVED***,e.prototype.u=function()***REMOVED***return Notification.permission***REMOVED***,e.prototype.getTokenManager=function()***REMOVED***return this.c***REMOVED***,e***REMOVED***(),S=T,b=***REMOVED***TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"***REMOVED***,v=***REMOVED***PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"***REMOVED***,I=function(e,t)***REMOVED***return r=***REMOVED******REMOVED***,r[b.TYPE_OF_MSG]=e,r[b.DATA]=t,r;var r***REMOVED***,m=***REMOVED***PARAMS:b,TYPES_OF_MSG:v,createNewMsg:I***REMOVED***,y=***REMOVED***path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"***REMOVED***,N=this&&this.__extends||function()***REMOVED***var e=Object.setPrototypeOf||***REMOVED***__proto__:[]***REMOVED***instanceof Array&&function(e,t)***REMOVED***e.__proto__=t***REMOVED***||function(e,t)***REMOVED***for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])***REMOVED***;return function(t,r)***REMOVED***function n()***REMOVED***this.constructor=t***REMOVED***e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)***REMOVED******REMOVED***(),w=function(e)***REMOVED***function t(t)***REMOVED***var r=e.call(this,t)||this;return r.d=null,r.f=Object(s.createSubscribe)(function(e)***REMOVED***r.d=e***REMOVED***),r.h=null,r.p=Object(s.createSubscribe)(function(e)***REMOVED***r.h=e***REMOVED***),r.l(),r***REMOVED***return N(t,e),t.prototype.getToken=function()***REMOVED***var t=this;return this.g()?this.T().then(function()***REMOVED***return e.prototype.getToken.call(t)***REMOVED***):Promise.reject(this.e.create(u.codes.UNSUPPORTED_BROWSER))***REMOVED***,t.prototype.T=function()***REMOVED***var e=this;if(this.S)return this.S;var t=document.querySelector('link[rel="manifest"]');return this.S=t?fetch(t.href).then(function(e)***REMOVED***return e.json()***REMOVED***).catch(function()***REMOVED***return Promise.resolve()***REMOVED***).then(function(t)***REMOVED***if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.e.create(u.codes.INCORRECT_GCM_SENDER_ID)***REMOVED***):Promise.resolve(),this.S***REMOVED***,t.prototype.requestPermission=function()***REMOVED***var e=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(t,r)***REMOVED***var n=function(n)***REMOVED***return"granted"===n?t():r("denied"===n?e.e.create(u.codes.PERMISSION_BLOCKED):e.e.create(u.codes.PERMISSION_DEFAULT))***REMOVED***,o=Notification.requestPermission(function(e)***REMOVED***o||n(e)***REMOVED***);o&&o.then(n)***REMOVED***)***REMOVED***,t.prototype.useServiceWorker=function(e)***REMOVED***if(!(e instanceof ServiceWorkerRegistration))throw this.e.create(u.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.b)throw this.e.create(u.codes.USE_SW_BEFORE_GET_TOKEN);this.b=e***REMOVED***,t.prototype.onMessage=function(e,t,r)***REMOVED***return this.f(e,t,r)***REMOVED***,t.prototype.onTokenRefresh=function(e,t,r)***REMOVED***return this.p(e,t,r)***REMOVED***,t.prototype.v=function(e)***REMOVED***var t=this,r=e.installing||e.waiting||e.active;return new Promise(function(n,o)***REMOVED***if(!r)return void o(t.e.create(u.codes.NO_SW_IN_REG));if("activated"===r.state)return void n(e);if("redundant"===r.state)return void o(t.e.create(u.codes.SW_REG_REDUNDANT));var i=function()***REMOVED***if("activated"===r.state)n(e);else***REMOVED***if("redundant"!==r.state)return;o(t.e.create(u.codes.SW_REG_REDUNDANT))***REMOVED***r.removeEventListener("statechange",i)***REMOVED***;r.addEventListener("statechange",i)***REMOVED***)***REMOVED***,t.prototype._=function()***REMOVED***var e=this;return this.b?this.v(this.b):(this.b=null,navigator.serviceWorker.register(y.path,***REMOVED***scope:y.scope***REMOVED***).catch(function(t)***REMOVED***throw e.e.create(u.codes.FAILED_DEFAULT_REGISTRATION,***REMOVED***browserErrorMessage:t.message***REMOVED***)***REMOVED***).then(function(t)***REMOVED***return e.v(t).then(function()***REMOVED***return e.b=t,t.update(),t***REMOVED***)***REMOVED***))***REMOVED***,t.prototype.l=function()***REMOVED***var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t)***REMOVED***if(t.data&&t.data[m.PARAMS.TYPE_OF_MSG])***REMOVED***var r=t.data;switch(r[m.PARAMS.TYPE_OF_MSG])***REMOVED***case m.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case m.TYPES_OF_MSG.NOTIFICATION_CLICKED:var n=r[m.PARAMS.DATA];e.d.next(n)***REMOVED******REMOVED******REMOVED***,!1)***REMOVED***,t.prototype.g=function()***REMOVED***return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")***REMOVED***,t***REMOVED***(S),k=w,O=this&&this.__extends||function()***REMOVED***var e=Object.setPrototypeOf||***REMOVED***__proto__:[]***REMOVED***instanceof Array&&function(e,t)***REMOVED***e.__proto__=t***REMOVED***||function(e,t)***REMOVED***for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])***REMOVED***;return function(t,r)***REMOVED***function n()***REMOVED***this.constructor=t***REMOVED***e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)***REMOVED******REMOVED***(),D=function(e)***REMOVED***function t(t)***REMOVED***var r=e.call(this,t)||this;return self.addEventListener("push",function(e)***REMOVED***return r.I(e)***REMOVED***,!1),self.addEventListener("pushsubscriptionchange",function(e)***REMOVED***return r.m(e)***REMOVED***,!1),self.addEventListener("notificationclick",function(e)***REMOVED***return r.y(e)***REMOVED***,!1),r.N=null,r***REMOVED***return O(t,e),t.prototype.I=function(e)***REMOVED***var t,r=this;try***REMOVED***t=e.data.json()***REMOVED***catch(e)***REMOVED***return***REMOVED***var n=this.w().then(function(e)***REMOVED***if(e)***REMOVED***if(t.notification||r.N)return r.k(t)***REMOVED***else***REMOVED***var n=r.O(t);if(n)***REMOVED***var o=n.title||"";return self.registration.showNotification(o,n)***REMOVED***if(r.N)return r.N(t)***REMOVED******REMOVED***);e.waitUntil(n)***REMOVED***,t.prototype.m=function(e)***REMOVED***var t=this,r=this.getToken().then(function(e)***REMOVED***if(!e)throw t.e.create(u.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var r=null,n=t.getTokenManager();return n.getTokenDetailsFromToken(e).then(function(e)***REMOVED***if(!(r=e))throw t.e.create(u.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(h.SUBSCRIPTION_OPTIONS)***REMOVED***).then(function(e)***REMOVED***return n.subscribeToFCM(r.fcmSenderId,e,r.fcmPushSet)***REMOVED***).catch(function(e)***REMOVED***return n.deleteToken(r.fcmToken).then(function()***REMOVED***throw t.e.create(u.codes.UNABLE_TO_RESUBSCRIBE,***REMOVED***message:e***REMOVED***)***REMOVED***)***REMOVED***)***REMOVED***);e.waitUntil(r)***REMOVED***,t.prototype.y=function(e)***REMOVED***var t=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG)***REMOVED***e.stopImmediatePropagation(),e.notification.close();var r=e.notification.data.FCM_MSG,n=r.notification.click_action;if(n)***REMOVED***var o=this.D(n).then(function(e)***REMOVED***return e||self.clients.openWindow(n)***REMOVED***).then(function(e)***REMOVED***if(e)***REMOVED***r.notification,delete r.notification;var n=m.createNewMsg(m.TYPES_OF_MSG.NOTIFICATION_CLICKED,r);return t.A(e,n)***REMOVED******REMOVED***);e.waitUntil(o)***REMOVED******REMOVED******REMOVED***,t.prototype.O=function(e)***REMOVED***if(e&&"object"==typeof e.notification)***REMOVED***var t=Object.assign(***REMOVED******REMOVED***,e.notification);return t.data=(r=***REMOVED******REMOVED***,r.FCM_MSG=e,r),t;var r***REMOVED******REMOVED***,t.prototype.setBackgroundMessageHandler=function(e)***REMOVED***if(e&&"function"!=typeof e)throw this.e.create(u.codes.BG_HANDLER_FUNCTION_EXPECTED);this.N=e***REMOVED***,t.prototype.D=function(e)***REMOVED***var t=new URL(e).href;return self.clients.matchAll(***REMOVED***type:"window",includeUncontrolled:!0***REMOVED***).then(function(e)***REMOVED***for(var r=null,n=0;n<e.length;n++)if(new URL(e[n].url).href===t)***REMOVED***r=e[n];break***REMOVED***if(r)return r.focus(),r***REMOVED***)***REMOVED***,t.prototype.A=function(e,t)***REMOVED***var r=this;return new Promise(function(n,o)***REMOVED***if(!e)return o(r.e.create(u.codes.NO_WINDOW_CLIENT_TO_MSG));e.postMessage(t),n()***REMOVED***)***REMOVED***,t.prototype.w=function()***REMOVED***return self.clients.matchAll(***REMOVED***type:"window",includeUncontrolled:!0***REMOVED***).then(function(e)***REMOVED***return e.some(function(e)***REMOVED***return"visible"===e.visibilityState***REMOVED***)***REMOVED***)***REMOVED***,t.prototype.k=function(e)***REMOVED***var t=this;return self.clients.matchAll(***REMOVED***type:"window",includeUncontrolled:!0***REMOVED***).then(function(r)***REMOVED***var n=m.createNewMsg(m.TYPES_OF_MSG.PUSH_MSG_RECEIVED,e);return Promise.all(r.map(function(e)***REMOVED***return t.A(e,n)***REMOVED***))***REMOVED***)***REMOVED***,t.prototype._=function()***REMOVED***return Promise.resolve(self.registration)***REMOVED***,t***REMOVED***(S),A=D,P=r(6);t.registerMessaging=o,o(P.firebase)***REMOVED******REMOVED***,[116])***REMOVED***catch(e)***REMOVED***throw Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")***REMOVED***
//# sourceMappingURL=firebase-messaging.js.map