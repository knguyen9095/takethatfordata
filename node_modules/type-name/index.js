/**
 * type-name - Just a reasonable typeof
 *
 * https://github.com/twada/type-name
 *
 * Copyright (c) 2014-2016 Takuto Wada
 * Licensed under the MIT license.
 *   https://github.com/twada/type-name/blob/master/LICENSE
 */
'use strict';

var toStr = Object.prototype.toString;

function funcName (f) ***REMOVED***
    if (f.name) ***REMOVED***
        return f.name;
    ***REMOVED***
    var match = /^\s*function\s*([^\(]*)/im.exec(f.toString());
    return match ? match[1] : '';
***REMOVED***

function ctorName (obj) ***REMOVED***
    var strName = toStr.call(obj).slice(8, -1);
    if ((strName === 'Object' || strName === 'Error') && obj.constructor) ***REMOVED***
        return funcName(obj.constructor);
    ***REMOVED***
    return strName;
***REMOVED***

function typeName (val) ***REMOVED***
    var type;
    if (val === null) ***REMOVED***
        return 'null';
    ***REMOVED***
    type = typeof val;
    if (type === 'object') ***REMOVED***
        return ctorName(val);
    ***REMOVED***
    return type;
***REMOVED***

module.exports = typeName;
