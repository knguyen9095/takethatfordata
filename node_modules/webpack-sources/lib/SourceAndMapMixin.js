/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
"use strict";

module.exports = function mixinSourceAndMap(proto) ***REMOVED***
	proto.map = function(options) ***REMOVED***
		options = options || ***REMOVED******REMOVED***;
		if(options.columns === false) ***REMOVED***
			return this.listMap(options).toStringWithSourceMap(***REMOVED***
				file: "x"
			***REMOVED***).map;
		***REMOVED***

		return this.node(options).toStringWithSourceMap(***REMOVED***
			file: "x"
		***REMOVED***).map.toJSON();
	***REMOVED***;

	proto.sourceAndMap = function(options) ***REMOVED***
		options = options || ***REMOVED******REMOVED***;
		if(options.columns === false) ***REMOVED***
			//console.log(this.listMap(options).debugInfo());
			return this.listMap(options).toStringWithSourceMap(***REMOVED***
				file: "x"
			***REMOVED***);
		***REMOVED***

		var res = this.node(options).toStringWithSourceMap(***REMOVED***
			file: "x"
		***REMOVED***);
		return ***REMOVED***
			source: res.code,
			map: res.map.toJSON()
		***REMOVED***;
	***REMOVED***;
***REMOVED***
