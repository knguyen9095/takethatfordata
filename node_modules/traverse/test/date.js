var test = require('tape');
var traverse = require('../');

test('dateEach', function (t) ***REMOVED***
    var obj = ***REMOVED*** x : new Date, y : 10, z : 5 ***REMOVED***;
    
    var counts = ***REMOVED******REMOVED***;
    
    traverse(obj).forEach(function (node) ***REMOVED***
        var t = (node instanceof Date && 'Date') || typeof node;
        counts[t] = (counts[t] || 0) + 1;
    ***REMOVED***);
    
    t.same(counts, ***REMOVED***
        object : 1,
        Date : 1,
        number : 2,
    ***REMOVED***);
    t.end();
***REMOVED***);

test('dateMap', function (t) ***REMOVED***
    var obj = ***REMOVED*** x : new Date, y : 10, z : 5 ***REMOVED***;
    
    var res = traverse(obj).map(function (node) ***REMOVED***
        if (typeof node === 'number') this.update(node + 100);
    ***REMOVED***);
    
    t.ok(obj.x !== res.x);
    t.same(res, ***REMOVED***
        x : obj.x,
        y : 110,
        z : 105,
    ***REMOVED***);
    t.end();
***REMOVED***);

