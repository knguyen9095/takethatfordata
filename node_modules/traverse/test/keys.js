var test = require('tape');
var traverse = require('../');

test('sort test', function (t) ***REMOVED***
    var acc = [];
    traverse(***REMOVED***
        a: 30,
        b: 22,
        id: 9
    ***REMOVED***).forEach(function (node) ***REMOVED***
        if ((! Array.isArray(node)) && typeof node === 'object') ***REMOVED***
            this.before(function(node) ***REMOVED***
                this.keys = Object.keys(node);
                this.keys.sort(function(a, b) ***REMOVED***
                    a = [a === "id" ? 0 : 1, a];
                    b = [b === "id" ? 0 : 1, b];
                    return a < b ? -1 : a > b ? 1 : 0;
                ***REMOVED***);
            ***REMOVED***);
        ***REMOVED***
        if (this.isLeaf) acc.push(node);
    ***REMOVED***);
    
    t.equal(
        acc.join(' '),
        '9 30 22',
        'Traversal in a custom order'
    );
    
    t.end();
***REMOVED***);
