'use strict';

var isObject = require('is-extendable');
var union = require('arr-union');
var get = require('get-value');
var set = require('set-value');

module.exports = function unionValue(obj, prop, value) ***REMOVED***
  if (!isObject(obj)) ***REMOVED***
    throw new TypeError('union-value expects the first argument to be an object.');
  ***REMOVED***

  if (typeof prop !== 'string') ***REMOVED***
    throw new TypeError('union-value expects `prop` to be a string.');
  ***REMOVED***

  var arr = arrayify(get(obj, prop));
  set(obj, prop, union(arr, arrayify(value)));
  return obj;
***REMOVED***;

function arrayify(val) ***REMOVED***
  if (val === null || typeof val === 'undefined') ***REMOVED***
    return [];
  ***REMOVED***
  if (Array.isArray(val)) ***REMOVED***
    return val;
  ***REMOVED***
  return [val];
***REMOVED***
