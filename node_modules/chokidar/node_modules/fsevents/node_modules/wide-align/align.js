'use strict'
var stringWidth = require('string-width')

exports.center = alignCenter
exports.left = alignLeft
exports.right = alignRight

// lodash's way of generating pad characters.

function createPadding (width) ***REMOVED***
  var result = ''
  var string = ' '
  var n = width
  do ***REMOVED***
    if (n % 2) ***REMOVED***
      result += string;
    ***REMOVED***
    n = Math.floor(n / 2);
    string += string;
  ***REMOVED*** while (n);

  return result;
***REMOVED***

function alignLeft (str, width) ***REMOVED***
  var trimmed = str.trimRight()
  if (trimmed.length === 0 && str.length >= width) return str
  var padding = ''
  var strWidth = stringWidth(trimmed)

  if (strWidth < width) ***REMOVED***
    padding = createPadding(width - strWidth)
  ***REMOVED***

  return trimmed + padding
***REMOVED***

function alignRight (str, width) ***REMOVED***
  var trimmed = str.trimLeft()
  if (trimmed.length === 0 && str.length >= width) return str
  var padding = ''
  var strWidth = stringWidth(trimmed)

  if (strWidth < width) ***REMOVED***
    padding = createPadding(width - strWidth)
  ***REMOVED***

  return padding + trimmed
***REMOVED***

function alignCenter (str, width) ***REMOVED***
  var trimmed = str.trim()
  if (trimmed.length === 0 && str.length >= width) return str
  var padLeft = ''
  var padRight = ''
  var strWidth = stringWidth(trimmed)

  if (strWidth < width) ***REMOVED***
    var padLeftBy = parseInt((width - strWidth) / 2, 10) 
    padLeft = createPadding(padLeftBy)
    padRight = createPadding(width - (strWidth + padLeftBy))
  ***REMOVED***

  return padLeft + trimmed + padRight
***REMOVED***
