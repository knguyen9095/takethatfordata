'use strict'
var consoleControl = require('console-control-strings')
var renderTemplate = require('./render-template.js')
var validate = require('aproba')

var Plumbing = module.exports = function (theme, template, width) ***REMOVED***
  if (!width) width = 80
  validate('OAN', [theme, template, width])
  this.showing = false
  this.theme = theme
  this.width = width
  this.template = template
***REMOVED***
Plumbing.prototype = ***REMOVED******REMOVED***

Plumbing.prototype.setTheme = function (theme) ***REMOVED***
  validate('O', [theme])
  this.theme = theme
***REMOVED***

Plumbing.prototype.setTemplate = function (template) ***REMOVED***
  validate('A', [template])
  this.template = template
***REMOVED***

Plumbing.prototype.setWidth = function (width) ***REMOVED***
  validate('N', [width])
  this.width = width
***REMOVED***

Plumbing.prototype.hide = function () ***REMOVED***
  return consoleControl.gotoSOL() + consoleControl.eraseLine()
***REMOVED***

Plumbing.prototype.hideCursor = consoleControl.hideCursor

Plumbing.prototype.showCursor = consoleControl.showCursor

Plumbing.prototype.show = function (status) ***REMOVED***
  var values = Object.create(this.theme)
  for (var key in status) ***REMOVED***
    values[key] = status[key]
  ***REMOVED***

  return renderTemplate(this.width, this.template, values).trim() +
         consoleControl.color('reset') +
         consoleControl.eraseLine() + consoleControl.gotoSOL()
***REMOVED***
