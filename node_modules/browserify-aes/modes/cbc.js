var xor = require('buffer-xor')

exports.encrypt = function (self, block) ***REMOVED***
  var data = xor(block, self._prev)

  self._prev = self._cipher.encryptBlock(data)
  return self._prev
***REMOVED***

exports.decrypt = function (self, block) ***REMOVED***
  var pad = self._prev

  self._prev = block
  var out = self._cipher.decryptBlock(block)

  return xor(out, pad)
***REMOVED***
