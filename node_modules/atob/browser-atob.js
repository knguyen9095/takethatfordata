(function (w) ***REMOVED***
  "use strict";

  var a2b = w.atob;

  function atob(str) ***REMOVED***
    // normal window
    if ('function' === typeof a2b) ***REMOVED***
      return a2b(str);
    ***REMOVED***
    // browserify (web worker)
    else if ('function' === typeof Buffer) ***REMOVED***
      return new Buffer(str, 'base64').toString('binary');
    ***REMOVED***
    // ios web worker with base64js
    else if ('object' === typeof w.base64js) ***REMOVED***
      // bufferToBinaryString
      // https://github.com/coolaj86/unibabel-js/blob/master/index.js#L50
      var buf = w.base64js.b64ToByteArray(str);

      return Array.prototype.map.call(buf, function (ch) ***REMOVED***
        return String.fromCharCode(ch);
      ***REMOVED***).join('');
    ***REMOVED***
    // ios web worker without base64js
    else ***REMOVED***
      throw new Error("you're probably in an ios webworker. please include use beatgammit's base64-js");
    ***REMOVED***
  ***REMOVED***

  w.atob = atob;

  if (typeof module !== 'undefined') ***REMOVED***
    module.exports = atob;
  ***REMOVED***
***REMOVED***(window));
