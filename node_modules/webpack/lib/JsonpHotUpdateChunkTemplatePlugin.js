/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
"use strict";

const ConcatSource = require("webpack-sources").ConcatSource;

class JsonpHotUpdateChunkTemplatePlugin ***REMOVED***
	apply(hotUpdateChunkTemplate) ***REMOVED***
		hotUpdateChunkTemplate.plugin("render", function(modulesSource, modules, removedModules, hash, id) ***REMOVED***
			const source = new ConcatSource();
			source.add(`$***REMOVED***this.outputOptions.hotUpdateFunction***REMOVED***($***REMOVED***JSON.stringify(id)***REMOVED***,`);
			source.add(modulesSource);
			source.add(")");
			return source;
		***REMOVED***);
		hotUpdateChunkTemplate.plugin("hash", function(hash) ***REMOVED***
			hash.update("JsonpHotUpdateChunkTemplatePlugin");
			hash.update("3");
			hash.update(`$***REMOVED***this.outputOptions.hotUpdateFunction***REMOVED***`);
			hash.update(`$***REMOVED***this.outputOptions.library***REMOVED***`);
		***REMOVED***);
	***REMOVED***
***REMOVED***

module.exports = JsonpHotUpdateChunkTemplatePlugin;
