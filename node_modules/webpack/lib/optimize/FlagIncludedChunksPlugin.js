/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
"use strict";

class FlagIncludedChunksPlugin ***REMOVED***

	apply(compiler) ***REMOVED***
		compiler.plugin("compilation", (compilation) => ***REMOVED***
			compilation.plugin("optimize-chunk-ids", (chunks) => ***REMOVED***
				chunks.forEach((chunkA) => ***REMOVED***
					chunks.forEach((chunkB) => ***REMOVED***
						// as we iterate the same iterables twice
						// skip if we find ourselves
						if(chunkA === chunkB) return;

						// instead of swapping A and B just bail
						// as we loop twice the current A will be B and B then A
						if(chunkA.getNumberOfModules() < chunkB.getNumberOfModules()) return;

						if(chunkB.getNumberOfModules() === 0) return;

						// is chunkB in chunkA?
						for(const m of chunkB.modulesIterable) ***REMOVED***
							if(!chunkA.containsModule(m)) return;
						***REMOVED***
						chunkA.ids.push(chunkB.id);
					***REMOVED***);
				***REMOVED***);
			***REMOVED***);
		***REMOVED***);
	***REMOVED***
***REMOVED***
module.exports = FlagIncludedChunksPlugin;
