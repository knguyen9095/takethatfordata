/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
"use strict";

const asyncLib = require("async");

class MultiWatching ***REMOVED***
	constructor(watchings, compiler) ***REMOVED***
		this.watchings = watchings;
		this.compiler = compiler;
	***REMOVED***

	invalidate() ***REMOVED***
		this.watchings.forEach((watching) => watching.invalidate());
	***REMOVED***

	close(callback) ***REMOVED***
		if(callback === undefined) callback = () => ***REMOVED*** /*do nothing*/ ***REMOVED***;

		asyncLib.forEach(this.watchings, (watching, finishedCallback) => ***REMOVED***
			watching.close(finishedCallback);
		***REMOVED***, err => ***REMOVED***
			this.compiler.applyPlugins("watch-close");
			callback(err);
		***REMOVED***);

	***REMOVED***
***REMOVED***

module.exports = MultiWatching;
