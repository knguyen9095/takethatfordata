/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
"use strict";
const DependenciesBlock = require("./DependenciesBlock");

module.exports = class AsyncDependenciesBlock extends DependenciesBlock ***REMOVED***
	constructor(name, module, loc) ***REMOVED***
		super();
		this.chunkName = name;
		this.chunks = null;
		this.module = module;
		this.loc = loc;
	***REMOVED***
	get chunk() ***REMOVED***
		throw new Error("`chunk` was been renamed to `chunks` and is now an array");
	***REMOVED***
	set chunk(chunk) ***REMOVED***
		throw new Error("`chunk` was been renamed to `chunks` and is now an array");
	***REMOVED***
	updateHash(hash) ***REMOVED***
		hash.update(this.chunkName || "");
		hash.update(this.chunks && this.chunks.map((chunk) => ***REMOVED***
			return chunk.id !== null ? chunk.id : "";
		***REMOVED***).join(",") || "");
		super.updateHash(hash);
	***REMOVED***
	disconnect() ***REMOVED***
		this.chunks = null;
		super.disconnect();
	***REMOVED***
	unseal() ***REMOVED***
		this.chunks = null;
		super.unseal();
	***REMOVED***
	sortItems() ***REMOVED***
		super.sortItems();
		if(this.chunks) ***REMOVED***
			this.chunks.sort((a, b) => a.compareTo(b));
		***REMOVED***
	***REMOVED***
***REMOVED***;
