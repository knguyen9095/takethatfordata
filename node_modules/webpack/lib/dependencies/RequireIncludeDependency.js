/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
"use strict";
const ModuleDependency = require("./ModuleDependency");

class RequireIncludeDependency extends ModuleDependency ***REMOVED***
	constructor(request, range) ***REMOVED***
		super(request);
		this.range = range;
	***REMOVED***

	getReference() ***REMOVED***
		if(!this.module) return null;
		return ***REMOVED***
			module: this.module,
			importedNames: [] // This doesn't use any export
		***REMOVED***;
	***REMOVED***

	get type() ***REMOVED***
		return "require.include";
	***REMOVED***
***REMOVED***

RequireIncludeDependency.Template = class RequireIncludeDependencyTemplate ***REMOVED***
	apply(dep, source, outputOptions, requestShortener) ***REMOVED***
		const comment = this.getOptionalComment(outputOptions.pathinfo && dep.module, requestShortener.shorten(dep.request));
		source.replace(dep.range[0], dep.range[1] - 1, `undefined$***REMOVED***comment***REMOVED***`);
	***REMOVED***

	getOptionalComment(shouldHaveComment, shortenedRequest) ***REMOVED***
		if(shouldHaveComment) ***REMOVED***
			return "";
		***REMOVED***
		return `/*! require.include $***REMOVED***shortenedRequest***REMOVED*** */`;
	***REMOVED***
***REMOVED***;

module.exports = RequireIncludeDependency;
