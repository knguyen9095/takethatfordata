/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
module.exports = function(expr) ***REMOVED***
	// <FunctionExpression>
	if(expr.type === "FunctionExpression" || expr.type === "ArrowFunctionExpression") ***REMOVED***
		return ***REMOVED***
			fn: expr,
			expressions: [],
			needThis: false
		***REMOVED***;
	***REMOVED***

	// <FunctionExpression>.bind(<Expression>)
	if(expr.type === "CallExpression" &&
		expr.callee.type === "MemberExpression" &&
		expr.callee.object.type === "FunctionExpression" &&
		expr.callee.property.type === "Identifier" &&
		expr.callee.property.name === "bind" &&
		expr.arguments.length === 1) ***REMOVED***
		return ***REMOVED***
			fn: expr.callee.object,
			expressions: [expr.arguments[0]]
		***REMOVED***;
	***REMOVED***
	// (function(_this) ***REMOVED***return <FunctionExpression>***REMOVED***)(this) (Coffeescript)
	if(expr.type === "CallExpression" &&
		expr.callee.type === "FunctionExpression" &&
		expr.callee.body.type === "BlockStatement" &&
		expr.arguments.length === 1 &&
		expr.arguments[0].type === "ThisExpression" &&
		expr.callee.body.body &&
		expr.callee.body.body.length === 1 &&
		expr.callee.body.body[0].type === "ReturnStatement" &&
		expr.callee.body.body[0].argument &&
		expr.callee.body.body[0].argument.type === "FunctionExpression") ***REMOVED***
		return ***REMOVED***
			fn: expr.callee.body.body[0].argument,
			expressions: [],
			needThis: true
		***REMOVED***;
	***REMOVED***
***REMOVED***;
