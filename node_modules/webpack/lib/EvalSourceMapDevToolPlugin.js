/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
"use strict";

const EvalSourceMapDevToolModuleTemplatePlugin = require("./EvalSourceMapDevToolModuleTemplatePlugin");
const SourceMapDevToolModuleOptionsPlugin = require("./SourceMapDevToolModuleOptionsPlugin");

class EvalSourceMapDevToolPlugin ***REMOVED***
	constructor(options) ***REMOVED***
		if(arguments.length > 1)
			throw new Error("EvalSourceMapDevToolPlugin only takes one argument (pass an options object)");
		if(typeof options === "string") ***REMOVED***
			options = ***REMOVED***
				append: options
			***REMOVED***;
		***REMOVED***
		if(!options) options = ***REMOVED******REMOVED***;
		this.options = options;
	***REMOVED***

	apply(compiler) ***REMOVED***
		const options = this.options;
		compiler.plugin("compilation", (compilation) => ***REMOVED***
			new SourceMapDevToolModuleOptionsPlugin(options).apply(compilation);
			compilation.moduleTemplate.apply(new EvalSourceMapDevToolModuleTemplatePlugin(compilation, options));
		***REMOVED***);
	***REMOVED***
***REMOVED***

module.exports = EvalSourceMapDevToolPlugin;
