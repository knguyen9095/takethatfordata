"use strict";

const getErrorFor = (shouldBeAbsolute, data, schema) => ***REMOVED***
	const message = shouldBeAbsolute ?
		`The provided value $***REMOVED***JSON.stringify(data)***REMOVED*** is not an absolute path!`
		: `A relative path is expected. However the provided value $***REMOVED***JSON.stringify(data)***REMOVED*** is an absolute path!`;

	return ***REMOVED***
		keyword: "absolutePath",
		params: ***REMOVED*** absolutePath: data ***REMOVED***,
		message: message,
		parentSchema: schema,
	***REMOVED***;
***REMOVED***;
module.exports = (ajv) => ajv.addKeyword("absolutePath", ***REMOVED***
	errors: true,
	type: "string",
	compile(expected, schema) ***REMOVED***
		function callback(data) ***REMOVED***
			const passes = expected === /^(?:[A-Za-z]:\\|\/)/.test(data);
			if(!passes) ***REMOVED***
				callback.errors = [getErrorFor(expected, data, schema)];
			***REMOVED***
			return passes;
		***REMOVED***
		callback.errors = [];
		return callback;
	***REMOVED***
***REMOVED***);
