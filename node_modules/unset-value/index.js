/*!
 * unset-value <https://github.com/jonschlinkert/unset-value>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */

'use strict';

var isObject = require('isobject');
var has = require('has-value');

module.exports = function unset(obj, prop) ***REMOVED***
  if (!isObject(obj)) ***REMOVED***
    throw new TypeError('expected an object.');
  ***REMOVED***
  if (obj.hasOwnProperty(prop)) ***REMOVED***
    delete obj[prop];
    return true;
  ***REMOVED***

  if (has(obj, prop)) ***REMOVED***
    var segs = prop.split('.');
    var last = segs.pop();
    while (segs.length && segs[segs.length - 1].slice(-1) === '\\') ***REMOVED***
      last = segs.pop().slice(0, -1) + '.' + last;
    ***REMOVED***
    while (segs.length) obj = obj[prop = segs.shift()];
    return (delete obj[last]);
  ***REMOVED***
  return true;
***REMOVED***;
