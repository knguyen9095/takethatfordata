# D
## Property descriptor factory

_Originally derived from [es5-ext](https://github.com/medikoo/es5-ext) package._

Defining properties with descriptors is very verbose:

```javascript
var Account = function () ***REMOVED******REMOVED***;
Object.defineProperties(Account.prototype, ***REMOVED***
  deposit: ***REMOVED*** value: function () ***REMOVED***
      /* ... */
    ***REMOVED***, configurable: true, enumerable: false, writable: true ***REMOVED***,
  withdraw: ***REMOVED*** value: function () ***REMOVED***
      /* ... */
    ***REMOVED***, configurable: true, enumerable: false, writable: true ***REMOVED***,
  balance: ***REMOVED*** get: function () ***REMOVED***
      /* ... */
    ***REMOVED***, configurable: true, enumerable: false ***REMOVED***
***REMOVED***);
```

D cuts that to:

```javascript
var d = require('d');

var Account = function () ***REMOVED******REMOVED***;
Object.defineProperties(Account.prototype, ***REMOVED***
  deposit: d(function () ***REMOVED***
    /* ... */
  ***REMOVED***),
  withdraw: d(function () ***REMOVED***
    /* ... */
  ***REMOVED***),
  balance: d.gs(function () ***REMOVED***
    /* ... */
  ***REMOVED***)
***REMOVED***);
```

By default, created descriptor follow characteristics of native ES5 properties, and defines values as:

```javascript
***REMOVED*** configurable: true, enumerable: false, writable: true ***REMOVED***
```

You can overwrite it by preceding _value_ argument with instruction:
```javascript
d('c', value); // ***REMOVED*** configurable: true, enumerable: false, writable: false ***REMOVED***
d('ce', value); // ***REMOVED*** configurable: true, enumerable: true, writable: false ***REMOVED***
d('e', value); // ***REMOVED*** configurable: false, enumerable: true, writable: false ***REMOVED***

// Same way for get/set:
d.gs('e', value); // ***REMOVED*** configurable: false, enumerable: true ***REMOVED***
```

### Installation

	$ npm install d
	
To port it to Browser or any other (non CJS) environment, use your favorite CJS bundler. No favorite yet? Try: [Browserify](http://browserify.org/), [Webmake](https://github.com/medikoo/modules-webmake) or [Webpack](http://webpack.github.io/)

### Other utilities

#### autoBind(obj, props) _(d/auto-bind)_

Define methods which will be automatically bound to its instances

```javascript
var d = require('d');
var autoBind = require('d/auto-bind');

var Foo = function () ***REMOVED*** this._count = 0; ***REMOVED***;
Object.defineProperties(Foo.prototype, autoBind(***REMOVED***
  increment: d(function () ***REMOVED*** ++this._count; ***REMOVED***);
***REMOVED***));

var foo = new Foo();

// Increment foo counter on each domEl click
domEl.addEventListener('click', foo.increment, false);
```

#### lazy(obj, props) _(d/lazy)_

Define lazy properties, which will be resolved on first access

```javascript
var d = require('d');
var lazy = require('d/lazy');

var Foo = function () ***REMOVED******REMOVED***;
Object.defineProperties(Foo.prototype, lazy(***REMOVED***
  items: d(function () ***REMOVED*** return []; ***REMOVED***)
***REMOVED***));

var foo = new Foo();
foo.items.push(1, 2); // foo.items array created and defined directly on foo
```

## Tests [![Build Status](https://travis-ci.org/medikoo/d.png)](https://travis-ci.org/medikoo/d)

	$ npm test
