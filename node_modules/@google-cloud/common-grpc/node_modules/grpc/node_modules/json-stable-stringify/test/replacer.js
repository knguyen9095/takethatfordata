var test = require('tape');
var stringify = require('../');

test('replace root', function (t) ***REMOVED***
	t.plan(1);

	var obj = ***REMOVED*** a: 1, b: 2, c: false ***REMOVED***;
	var replacer = function(key, value) ***REMOVED*** return 'one'; ***REMOVED***;

	t.equal(stringify(obj, ***REMOVED*** replacer: replacer ***REMOVED***), '"one"');
***REMOVED***);

test('replace numbers', function (t) ***REMOVED***
	t.plan(1);

	var obj = ***REMOVED*** a: 1, b: 2, c: false ***REMOVED***;
	var replacer = function(key, value) ***REMOVED***
		if(value === 1) return 'one';
		if(value === 2) return 'two';
		return value;
	***REMOVED***;

	t.equal(stringify(obj, ***REMOVED*** replacer: replacer ***REMOVED***), '***REMOVED***"a":"one","b":"two","c":false***REMOVED***');
***REMOVED***);

test('replace with object', function (t) ***REMOVED***
	t.plan(1);

	var obj = ***REMOVED*** a: 1, b: 2, c: false ***REMOVED***;
	var replacer = function(key, value) ***REMOVED***
		if(key === 'b') return ***REMOVED*** d: 1 ***REMOVED***;
		if(value === 1) return 'one';
		return value;
	***REMOVED***;

	t.equal(stringify(obj, ***REMOVED*** replacer: replacer ***REMOVED***), '***REMOVED***"a":"one","b":***REMOVED***"d":"one"***REMOVED***,"c":false***REMOVED***');
***REMOVED***);

test('replace with undefined', function (t) ***REMOVED***
	t.plan(1);

	var obj = ***REMOVED*** a: 1, b: 2, c: false ***REMOVED***;
	var replacer = function(key, value) ***REMOVED***
		if(value === false) return;
		return value;
	***REMOVED***;

	t.equal(stringify(obj, ***REMOVED*** replacer: replacer ***REMOVED***), '***REMOVED***"a":1,"b":2***REMOVED***');
***REMOVED***);

test('replace with array', function (t) ***REMOVED***
	t.plan(1);

	var obj = ***REMOVED*** a: 1, b: 2, c: false ***REMOVED***;
	var replacer = function(key, value) ***REMOVED***
		if(key === 'b') return ['one', 'two'];
		return value;
	***REMOVED***;

	t.equal(stringify(obj, ***REMOVED*** replacer: replacer ***REMOVED***), '***REMOVED***"a":1,"b":["one","two"],"c":false***REMOVED***');
***REMOVED***);

test('replace array item', function (t) ***REMOVED***
	t.plan(1);

	var obj = ***REMOVED*** a: 1, b: 2, c: [1,2] ***REMOVED***;
	var replacer = function(key, value) ***REMOVED***
		if(value === 1) return 'one';
		if(value === 2) return 'two';
		return value;
	***REMOVED***;

	t.equal(stringify(obj, ***REMOVED*** replacer: replacer ***REMOVED***), '***REMOVED***"a":"one","b":"two","c":["one","two"]***REMOVED***');
***REMOVED***);
