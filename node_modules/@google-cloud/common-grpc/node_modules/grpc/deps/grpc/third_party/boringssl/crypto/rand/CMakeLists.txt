include_directories(../../include)

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "x86_64")
  set(
    RAND_ARCH_SOURCES

    rdrand-x86_64.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

add_library(
  rand

  OBJECT

  deterministic.c
  fuchsia.c
  rand.c
  urandom.c
  windows.c

  $***REMOVED***RAND_ARCH_SOURCES***REMOVED***
)

perlasm(rdrand-x86_64.$***REMOVED***ASM_EXT***REMOVED*** asm/rdrand-x86_64.pl)
