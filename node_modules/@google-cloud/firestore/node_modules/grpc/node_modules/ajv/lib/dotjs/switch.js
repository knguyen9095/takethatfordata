'use strict';
module.exports = function generate_switch(it, $keyword) ***REMOVED***
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $ifPassed = 'ifPassed' + it.level,
    $currentBaseId = $it.baseId,
    $shouldContinue;
  out += 'var ' + ($ifPassed) + ';';
  var arr1 = $schema;
  if (arr1) ***REMOVED***
    var $sch, $caseIndex = -1,
      l1 = arr1.length - 1;
    while ($caseIndex < l1) ***REMOVED***
      $sch = arr1[$caseIndex += 1];
      if ($caseIndex && !$shouldContinue) ***REMOVED***
        out += ' if (!' + ($ifPassed) + ') ***REMOVED*** ';
        $closingBraces += '***REMOVED***';
      ***REMOVED***
      if ($sch.if && it.util.schemaHasRules($sch.if, it.RULES.all)) ***REMOVED***
        out += ' var ' + ($errs) + ' = errors;   ';
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        $it.createErrors = false;
        $it.schema = $sch.if;
        $it.schemaPath = $schemaPath + '[' + $caseIndex + '].if';
        $it.errSchemaPath = $errSchemaPath + '/' + $caseIndex + '/if';
        out += '  ' + (it.validate($it)) + ' ';
        $it.baseId = $currentBaseId;
        $it.createErrors = true;
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += ' ' + ($ifPassed) + ' = ' + ($nextValid) + '; if (' + ($ifPassed) + ') ***REMOVED***  ';
        if (typeof $sch.then == 'boolean') ***REMOVED***
          if ($sch.then === false) ***REMOVED***
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = ''; /* istanbul ignore else */
            if (it.createErrors !== false) ***REMOVED***
              out += ' ***REMOVED*** keyword: \'' + ('switch') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: ***REMOVED*** caseIndex: ' + ($caseIndex) + ' ***REMOVED*** ';
              if (it.opts.messages !== false) ***REMOVED***
                out += ' , message: \'should pass "switch" keyword validation\' ';
              ***REMOVED***
              if (it.opts.verbose) ***REMOVED***
                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
              ***REMOVED***
              out += ' ***REMOVED*** ';
            ***REMOVED*** else ***REMOVED***
              out += ' ***REMOVED******REMOVED*** ';
            ***REMOVED***
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) ***REMOVED*** /* istanbul ignore if */
              if (it.async) ***REMOVED***
                out += ' throw new ValidationError([' + (__err) + ']); ';
              ***REMOVED*** else ***REMOVED***
                out += ' validate.errors = [' + (__err) + ']; return false; ';
              ***REMOVED***
            ***REMOVED*** else ***REMOVED***
              out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
            ***REMOVED***
          ***REMOVED***
          out += ' var ' + ($nextValid) + ' = ' + ($sch.then) + '; ';
        ***REMOVED*** else ***REMOVED***
          $it.schema = $sch.then;
          $it.schemaPath = $schemaPath + '[' + $caseIndex + '].then';
          $it.errSchemaPath = $errSchemaPath + '/' + $caseIndex + '/then';
          out += '  ' + (it.validate($it)) + ' ';
          $it.baseId = $currentBaseId;
        ***REMOVED***
        out += '  ***REMOVED*** else ***REMOVED***  errors = ' + ($errs) + '; if (vErrors !== null) ***REMOVED*** if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; ***REMOVED*** ***REMOVED*** ';
      ***REMOVED*** else ***REMOVED***
        out += ' ' + ($ifPassed) + ' = true;  ';
        if (typeof $sch.then == 'boolean') ***REMOVED***
          if ($sch.then === false) ***REMOVED***
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = ''; /* istanbul ignore else */
            if (it.createErrors !== false) ***REMOVED***
              out += ' ***REMOVED*** keyword: \'' + ('switch') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: ***REMOVED*** caseIndex: ' + ($caseIndex) + ' ***REMOVED*** ';
              if (it.opts.messages !== false) ***REMOVED***
                out += ' , message: \'should pass "switch" keyword validation\' ';
              ***REMOVED***
              if (it.opts.verbose) ***REMOVED***
                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
              ***REMOVED***
              out += ' ***REMOVED*** ';
            ***REMOVED*** else ***REMOVED***
              out += ' ***REMOVED******REMOVED*** ';
            ***REMOVED***
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) ***REMOVED*** /* istanbul ignore if */
              if (it.async) ***REMOVED***
                out += ' throw new ValidationError([' + (__err) + ']); ';
              ***REMOVED*** else ***REMOVED***
                out += ' validate.errors = [' + (__err) + ']; return false; ';
              ***REMOVED***
            ***REMOVED*** else ***REMOVED***
              out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
            ***REMOVED***
          ***REMOVED***
          out += ' var ' + ($nextValid) + ' = ' + ($sch.then) + '; ';
        ***REMOVED*** else ***REMOVED***
          $it.schema = $sch.then;
          $it.schemaPath = $schemaPath + '[' + $caseIndex + '].then';
          $it.errSchemaPath = $errSchemaPath + '/' + $caseIndex + '/then';
          out += '  ' + (it.validate($it)) + ' ';
          $it.baseId = $currentBaseId;
        ***REMOVED***
      ***REMOVED***
      $shouldContinue = $sch.continue
    ***REMOVED***
  ***REMOVED***
  out += '' + ($closingBraces) + 'var ' + ($valid) + ' = ' + ($nextValid) + '; ';
  out = it.util.cleanUpCode(out);
  return out;
***REMOVED***
