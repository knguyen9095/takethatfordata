if (module !== require.main) ***REMOVED***
  throw new Error("This file should not be loaded with require()")
***REMOVED***

if (!process.getuid || !process.getgid) ***REMOVED***
  throw new Error("this file should not be called without uid/gid support")
***REMOVED***

var argv = process.argv.slice(2)
  , user = argv[0] || process.getuid()
  , group = argv[1] || process.getgid()

if (!isNaN(user)) user = +user
if (!isNaN(group)) group = +group

console.error([user, group])

try ***REMOVED***
  process.setgid(group)
  process.setuid(user)
  console.log(JSON.stringify(***REMOVED***uid:+process.getuid(), gid:+process.getgid()***REMOVED***))
***REMOVED*** catch (ex) ***REMOVED***
  console.log(JSON.stringify(***REMOVED***error:ex.message,errno:ex.errno***REMOVED***))
***REMOVED***
