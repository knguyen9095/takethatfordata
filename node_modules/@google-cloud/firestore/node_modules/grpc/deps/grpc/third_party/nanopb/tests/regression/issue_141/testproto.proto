syntax = "proto2";

import 'nanopb.proto';

message SubMessage
***REMOVED***
    repeated int32 array = 1 [(nanopb).max_count = 8];
***REMOVED***

message OneOfMessage
***REMOVED***
    required int32 prefix = 1;
    oneof values
    ***REMOVED***
        int32 first = 5;
        string second = 6 [(nanopb).max_size = 8];
        SubMessage third = 7;
    ***REMOVED***
    required int32 suffix = 99;
***REMOVED***

message topMessage ***REMOVED***
	required int32 start = 1;
	oneof msg ***REMOVED***
		MyMessage1 msg1 = 2;
		MyMessage2 msg2 = 3;
	***REMOVED***
	required int32 end = 4;
***REMOVED***

message MyMessage1 ***REMOVED***
	required uint32 n1 = 1;
	required uint32 n2 = 2;
	required string s = 3 [(nanopb).max_size = 32];
***REMOVED***

message MyMessage2 ***REMOVED***
	required uint32 num = 1;
	required bool b = 2;
***REMOVED***

message MyMessage3 ***REMOVED***
	required bool bbb = 1;
	required string ss = 2 [(nanopb).max_size = 1];
***REMOVED***

message MyMessage4 ***REMOVED***
	required bool bbbb = 1;
	required string sss = 2 [(nanopb).max_size = 2];
	required uint32 num = 3;
	required uint32 num2 = 4;
***REMOVED***
