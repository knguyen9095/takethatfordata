include_directories(../../include)

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "x86_64")
  set(
    SHA_ARCH_SOURCES

    sha1-x86_64.$***REMOVED***ASM_EXT***REMOVED***
    sha256-x86_64.$***REMOVED***ASM_EXT***REMOVED***
    sha512-x86_64.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "x86")
  set(
    SHA_ARCH_SOURCES

    sha1-586.$***REMOVED***ASM_EXT***REMOVED***
    sha256-586.$***REMOVED***ASM_EXT***REMOVED***
    sha512-586.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "arm")
  set(
    SHA_ARCH_SOURCES

    sha1-armv4-large.$***REMOVED***ASM_EXT***REMOVED***
    sha256-armv4.$***REMOVED***ASM_EXT***REMOVED***
    sha512-armv4.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "aarch64")
  set(
    SHA_ARCH_SOURCES

    sha1-armv8.$***REMOVED***ASM_EXT***REMOVED***
    sha256-armv8.$***REMOVED***ASM_EXT***REMOVED***
    sha512-armv8.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

add_library(
  sha

  OBJECT

  sha1-altivec.c
  sha1.c
  sha256.c
  sha512.c

  $***REMOVED***SHA_ARCH_SOURCES***REMOVED***
)

perlasm(sha1-x86_64.$***REMOVED***ASM_EXT***REMOVED*** asm/sha1-x86_64.pl)
perlasm(sha256-x86_64.$***REMOVED***ASM_EXT***REMOVED*** asm/sha512-x86_64.pl)
perlasm(sha512-x86_64.$***REMOVED***ASM_EXT***REMOVED*** asm/sha512-x86_64.pl)
perlasm(sha1-586.$***REMOVED***ASM_EXT***REMOVED*** asm/sha1-586.pl)
perlasm(sha256-586.$***REMOVED***ASM_EXT***REMOVED*** asm/sha256-586.pl)
perlasm(sha512-586.$***REMOVED***ASM_EXT***REMOVED*** asm/sha512-586.pl)
perlasm(sha1-armv4-large.$***REMOVED***ASM_EXT***REMOVED*** asm/sha1-armv4-large.pl)
perlasm(sha256-armv4.$***REMOVED***ASM_EXT***REMOVED*** asm/sha256-armv4.pl)
perlasm(sha512-armv4.$***REMOVED***ASM_EXT***REMOVED*** asm/sha512-armv4.pl)
perlasm(sha1-armv8.$***REMOVED***ASM_EXT***REMOVED*** asm/sha1-armv8.pl)
perlasm(sha256-armv8.$***REMOVED***ASM_EXT***REMOVED*** asm/sha512-armv8.pl)
perlasm(sha512-armv8.$***REMOVED***ASM_EXT***REMOVED*** asm/sha512-armv8.pl)
