include_directories(../../include)

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "arm")
  set(
    CHACHA_ARCH_SOURCES

    chacha-armv4.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "aarch64")
  set(
    CHACHA_ARCH_SOURCES

    chacha-armv8.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "x86")
  set(
    CHACHA_ARCH_SOURCES

    chacha-x86.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

if ($***REMOVED***ARCH***REMOVED*** STREQUAL "x86_64")
  set(
    CHACHA_ARCH_SOURCES

    chacha-x86_64.$***REMOVED***ASM_EXT***REMOVED***
  )
endif()

add_library(
  chacha

  OBJECT

  chacha.c

  $***REMOVED***CHACHA_ARCH_SOURCES***REMOVED***
)

perlasm(chacha-armv4.$***REMOVED***ASM_EXT***REMOVED*** asm/chacha-armv4.pl)
perlasm(chacha-armv8.$***REMOVED***ASM_EXT***REMOVED*** asm/chacha-armv8.pl)
perlasm(chacha-x86.$***REMOVED***ASM_EXT***REMOVED*** asm/chacha-x86.pl)
perlasm(chacha-x86_64.$***REMOVED***ASM_EXT***REMOVED*** asm/chacha-x86_64.pl)
