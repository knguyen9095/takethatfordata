/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */

(function (name, context, definition) ***REMOVED***
  if (typeof module != 'undefined' && module.exports)
    module.exports = definition()
  else
    context[name] = definition()
***REMOVED***)('prr', this, function() ***REMOVED***

  var setProperty = typeof Object.defineProperty == 'function'
      ? function (obj, key, options) ***REMOVED***
          Object.defineProperty(obj, key, options)
          return obj
        ***REMOVED***
      : function (obj, key, options) ***REMOVED*** // < es5
          obj[key] = options.value
          return obj
        ***REMOVED***

    , makeOptions = function (value, options) ***REMOVED***
        var oo = typeof options == 'object'
          , os = !oo && typeof options == 'string'
          , op = function (p) ***REMOVED***
              return oo
                ? !!options[p]
                : os
                  ? options.indexOf(p[0]) > -1
                  : false
            ***REMOVED***

        return ***REMOVED***
            enumerable   : op('enumerable')
          , configurable : op('configurable')
          , writable     : op('writable')
          , value        : value
        ***REMOVED***
      ***REMOVED***

    , prr = function (obj, key, value, options) ***REMOVED***
        var k

        options = makeOptions(value, options)

        if (typeof key == 'object') ***REMOVED***
          for (k in key) ***REMOVED***
            if (Object.hasOwnProperty.call(key, k)) ***REMOVED***
              options.value = key[k]
              setProperty(obj, k, options)
            ***REMOVED***
          ***REMOVED***
          return obj
        ***REMOVED***

        return setProperty(obj, key, options)
      ***REMOVED***

  return prr
***REMOVED***)