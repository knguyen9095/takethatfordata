module.exports = command;

/**
 * command constructs the executable command to run in a shell including the
 * user script, the command arguments.
 *
 * @param  ***REMOVED***Object***REMOVED*** settings Object as:
 *                           ***REMOVED*** execOptions: ***REMOVED***
 *                               exec: String,
 *                               [script: String],
 *                               [scriptPosition: Number],
 *                               [execArgs: Array<string>]
 *                             ***REMOVED***
 *                           ***REMOVED***
 * @return ***REMOVED***Object***REMOVED***          an object with the node executable and the
 *                           arguments to the command
 */
function command(settings) ***REMOVED***
  var options = settings.execOptions;
  var executable = options.exec;
  var args = [];

  // after "executable" go the exec args (like --debug, etc)
  if (options.execArgs) ***REMOVED***
    [].push.apply(args, options.execArgs);
  ***REMOVED***

  // then goes the user's script arguments
  if (options.args) ***REMOVED***
    [].push.apply(args, options.args);
  ***REMOVED***

  // after the "executable" goes the user's script
  if (options.script) ***REMOVED***
    args.splice((options.scriptPosition || 0) +
      options.execArgs.length, 0, options.script);
  ***REMOVED***

  return ***REMOVED***
    executable: executable,
    args: args,
  ***REMOVED***;
***REMOVED***
